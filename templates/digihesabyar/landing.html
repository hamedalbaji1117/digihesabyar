{% extends "layouts/base.html" %}
{% load humanize %}

{% block content %}
<div class="space-y-8 text-slate-900 dark:text-slate-100">

  <!-- ูุฏุฑ ุงุตู -->
  <section class="bg-white dark:bg-slate-900 rounded-2xl p-6 shadow flex flex-col lg:flex-row items-start lg:items-center gap-6">
    <div class="flex-1">
      <h1 class="text-2xl md:text-3xl font-extrabold mb-3">
        ุฏุฌโุญุณุงุจโุงุฑ โ ูพูู ุงุตู
      </h1>
      <p class="text-sm md:text-base text-gray-600 dark:text-gray-300 leading-relaxed">
        ุงุฒ ุงู ุตูุญู ูโุชูุงูุฏ ุจู ุชูุงู ุจุฎุดโูุง ุณุงูุงูู ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดุฏ:
        ุขูพููุฏ ู ุชุญูู ุตูุฑุชุญุณุงุจโูุง ุฏุฌโฺฉุงูุงุ ูุงุดูโุญุณุงุจ ุณูุฏ ู ุฒุงูุ ฺฉู ูพูู ู ูพุฑุฏุงุฎุชโูุงุ
        ฺฏุฒุงุฑุดโูุง ู ุณุงุฑ ุงุจุฒุงุฑูุง.
      </p>

      <div class="mt-5 flex flex-wrap gap-3">
        <a
          href="{% url 'digihesabyar:dashboard' %}"
          class="inline-flex items-center px-4 py-2.5 rounded-xl text-sm font-semibold bg-blue-600 text-white hover:bg-blue-700 transition"
        >
          ๐ ูุฑูุฏ ุจู ุฏุงุดุจูุฑุฏ ุตูุฑุชุญุณุงุจโูุง
        </a>
        <a
          href="{% url 'digihesabyar:calculator' %}"
          class="inline-flex items-center px-4 py-2.5 rounded-xl text-sm font-semibold bg-emerald-600 text-white hover:bg-emerald-700 transition"
        >
          ๐ข ูุงุดูโุญุณุงุจ ุณูุฏ ู ุฒุงู
        </a>
        <a
          href="{% url 'digihesabyar:wallet' %}"
          class="inline-flex items-center px-4 py-2.5 rounded-xl text-sm font-semibold bg-slate-800 text-white hover:bg-slate-900 transition"
        >
          ๐ณ ูุดุงูุฏู ฺฉู ูพูู
        </a>
      </div>
    </div>

    <div class="w-full lg:w-64 border border-dashed border-slate-300 dark:border-slate-700 rounded-2xl p-4 bg-slate-50/80 dark:bg-slate-900/60">
      <h2 class="text-sm font-semibold mb-2">
        ูุถุนุช ูุฑูุฏ
      </h2>
      {% if user.is_authenticated %}
        <p class="text-xs text-emerald-700 dark:text-emerald-400 mb-2 font-semibold">
          โ ุดูุง ูุงุฑุฏ ุณุณุชู ุดุฏูโุงุฏ
        </p>
        {% if wallet %}
        <div class="space-y-1 mb-2">
          <p class="text-xs text-gray-700 dark:text-gray-200">
            ููุฌูุฏ ฺฉู ูพูู: <span class="font-bold text-emerald-600 dark:text-emerald-400">{{ wallet.balance|floatformat:0|intcomma }} ุฑุงู</span>
          </p>
          {% if invoice_count %}
          <p class="text-xs text-gray-700 dark:text-gray-200">
            ุชุนุฏุงุฏ ุตูุฑุชุญุณุงุจโูุง: <span class="font-semibold">{{ invoice_count }}</span>
            {% if paid_invoices %} ({{ paid_invoices }} ูพุฑุฏุงุฎุช ุดุฏู){% endif %}
            {% if pending_invoices %} โข <span class="text-amber-600 dark:text-amber-400">{{ pending_invoices }} ุฏุฑ ุงูุชุธุงุฑ</span>{% endif %}
          </p>
          {% endif %}
        </div>
        {% endif %}
        <p class="text-xs text-gray-600 dark:text-gray-300">
          ูโุชูุงูุฏ ูุณุชููุงู ุจู ุฏุงุดุจูุฑุฏุ ฺฉู ูพูู ู ุณุงุฑ ุจุฎุดโูุง ุจุฑูุฏ.
        </p>
      {% else %}
        <p class="text-xs text-amber-700 dark:text-amber-400 mb-2 font-semibold">
          โ ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุงูฺฉุงูุงุช ุณุงูุงูู ุงุจุชุฏุง ุจุงุฏ ูุงุฑุฏ ุญุณุงุจ ฺฉุงุฑุจุฑ ุดูุฏ.
        </p>
        <p class="text-xs text-gray-600 dark:text-gray-300">
          ุงุฒ ููฺฉ ูุฑูุฏ ุจุงูุง ุณุงุช ุงุณุชูุงุฏู ฺฉูุฏ. ุจุนุฏ ุงุฒ ูุฑูุฏุ ุงุฒ ููู ุตูุญู ุจู ุชูุงู ุจุฎุดโูุง ุฏุณุชุฑุณ ุฎูุงูุฏ ุฏุงุดุช.
        </p>
      {% endif %}
    </div>
  </section>

  <!-- ููฺฉโูุง ุงุตู ุณุณุชู -->
  <section class="bg-white dark:bg-slate-900 rounded-2xl p-6 shadow">
    <h2 class="text-lg font-bold mb-4">
      ุฏุณุชุฑุณ ุณุฑุน ุจู ุจุฎุดโูุง ุงุตู
    </h2>

    <div class="grid gap-4 md:grid-cols-2 xl:grid-cols-3">

      <!-- ุฏุงุดุจูุฑุฏ ุตูุฑุชุญุณุงุจโูุง -->
      <a
        href="{% url 'digihesabyar:dashboard' %}"
        class="group border border-slate-200 dark:border-slate-800 rounded-xl p-4 hover:border-blue-500 hover:shadow-md transition"
      >
        <h3 class="text-sm font-semibold mb-1 flex items-center justify-between">
          ๐ ุฏุงุดุจูุฑุฏ ุตูุฑุชุญุณุงุจโูุง
          <span class="text-xs text-blue-600 group-hover:underline">
            ูุฑูุฏ โ
          </span>
        </h3>
        <p class="text-xs text-gray-600 dark:text-gray-300 leading-relaxed">
          ุขูพููุฏ ูุงู ุงฺฉุณู ุตูุฑุชุญุณุงุจ ุฏุฌโฺฉุงูุงุ ูุดุงูุฏู ูุณุช ุตูุฑุชุญุณุงุจโูุงุ ูุถุนุช ูพุฑุฏุงุฒุดุ
          ุฎุทุงูุง ู ุฏุณุชุฑุณ ุจู ุฌุฒุฆุงุช ูุฑ ุตูุฑุชุญุณุงุจ.
        </p>
      </a>

      <!-- ูุงุดูโุญุณุงุจ ุณูุฏ ู ุฒุงู -->
      <a
        href="{% url 'digihesabyar:calculator' %}"
        class="group border border-slate-200 dark:border-slate-800 rounded-xl p-4 hover:border-emerald-500 hover:shadow-md transition"
      >
        <h3 class="text-sm font-semibold mb-1 flex items-center justify-between">
          ๐ข ูุงุดูโุญุณุงุจ ุณูุฏ ู ุฒุงู
          <span class="text-xs text-emerald-600 group-hover:underline">
            ุงุณุชูุงุฏู โ
          </span>
        </h3>
        <p class="text-xs text-gray-600 dark:text-gray-300 leading-relaxed">
          ุญุณุงุจ ุณุฑุน ุณูุฏ ู ุฒุงู ุจุฑ ุงุณุงุณ ููุช ุฎุฑุฏุ ฺฉูุณููุ ูุฒูู ุงุฑุณุงู ู ูพุฑุฏุงุฒุด
          ุจุฏูู ูุงุฒ ุจู ุขูพููุฏ ุตูุฑุชุญุณุงุจ ฺฉุงูู.
        </p>
      </a>

      <!-- ฺฉู ูพูู -->
      <a
        href="{% url 'digihesabyar:wallet' %}"
        class="group border border-slate-200 dark:border-slate-800 rounded-xl p-4 hover:border-slate-700 hover:shadow-md transition"
      >
        <h3 class="text-sm font-semibold mb-1 flex items-center justify-between">
          ๐ณ ฺฉู ูพูู ู ุชุฑุงฺฉูุดโูุง
          <span class="text-xs text-slate-700 dark:text-slate-300 group-hover:underline">
            ูุดุงูุฏู โ
          </span>
        </h3>
        <p class="text-xs text-gray-600 dark:text-gray-300 leading-relaxed">
          ูุดุงูุฏู ููุฌูุฏ ฺฉู ูพููุ ูุณุช ุชุฑุงฺฉูุดโูุง ุดุงุฑฺ ู ุจุฑุฏุงุดุชุ ู ูุถุนุช ูพุฑุฏุงุฎุช ุตูุฑุชุญุณุงุจโูุง.
        </p>
      </a>

      <!-- ุณุณุชู ฺฉููพู -->
      {% if user.is_authenticated %}
      <a
        href="{% url 'digihesabyar:wallet' %}"
        class="group border border-slate-200 dark:border-slate-800 rounded-xl p-4 hover:border-purple-500 hover:shadow-md transition"
      >
        <h3 class="text-sm font-semibold mb-1 flex items-center justify-between">
          <span>๐ซ ุณุณุชู ฺฉููพู ุชุฎูู</span>
          <span class="text-xs text-purple-600 group-hover:underline">
            ูุดุงูุฏู โ
          </span>
        </h3>
        <p class="text-xs text-gray-600 dark:text-gray-300 leading-relaxed">
          ุงุณุชูุงุฏู ุงุฒ ฺฉููพูโูุง ุชุฎูู ุจุฑุง ฺฉุงูุด ูุฒูู ูพุฑุฏุงุฒุด ุตูุฑุชุญุณุงุจโูุง. 
          ุฏุฑ ุตูุญู ูพุฑุฏุงุฎุช ูโุชูุงูุฏ ฺฉุฏ ฺฉููพู ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ.
        </p>
      </a>
      {% else %}
      <div
        class="border border-dashed border-slate-200 dark:border-slate-800 rounded-xl p-4"
      >
        <h3 class="text-sm font-semibold mb-1">
          ๐ซ ุณุณุชู ฺฉููพู ุชุฎูู
        </h3>
        <p class="text-xs text-gray-600 dark:text-gray-300 leading-relaxed">
          ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ฺฉููพูโูุง ุชุฎูู ุงุจุชุฏุง ูุงุฑุฏ ุญุณุงุจ ฺฉุงุฑุจุฑ ุดูุฏ.
        </p>
      </div>
      {% endif %}

      <!-- ุฑุงูููุง / ุขููุฒุดโูุง -->
      <div
        class="border border-dashed border-slate-200 dark:border-slate-800 rounded-xl p-4"
      >
        <h3 class="text-sm font-semibold mb-1">
          ๐ ุฑุงูููุง ู ุขููุฒุดโูุง
        </h3>
        <p class="text-xs text-gray-600 dark:text-gray-300 leading-relaxed">
          ุฏุฑ ุขูุฏู ูโุชูุงูุฏ ุงุฒ ุงู ูุณูุช ุจู ููุงูุงุช ุขููุฒุดุ ูุฏุฆููุง ู ุฑุงูููุง ุงุณุชูุงุฏู ุงุฒ
          ุณุณุชู ูุญุงุณุจู ุณูุฏ ู ุฒุงู ุฏุณุชุฑุณ ูพุฏุง ฺฉูุฏ.
        </p>
      </div>

      <!-- ูุฑูุฏ ุจู ูุฏุฑุช ุฌูฺฏู -->
      {% if user.is_superuser %}
      <a
        href="/admin/"
        class="group border border-slate-200 dark:border-slate-800 rounded-xl p-4 hover:border-indigo-500 hover:shadow-md transition"
      >
        <h3 class="text-sm font-semibold mb-1 flex items-center justify-between">
          โ๏ธ ูุฏุฑุช ุณุณุชู (Admin)
          <span class="text-xs text-indigo-600 group-hover:underline">
            ูุฑูุฏ โ
          </span>
        </h3>
        <p class="text-xs text-gray-600 dark:text-gray-300 leading-relaxed">
          ูุฏุฑุช ฺฉุงุฑุจุฑุงูุ ฺฉููพูโูุงุ ุตูุฑุชุญุณุงุจโูุงุ ูพููโูุง ููุชโฺฏุฐุงุฑุ ู ุณุงุฑ ูุฏูโูุง ุจฺฉโุงูุฏ
          ุงุฒ ุทุฑู ูพูู ูุฏุฑุช ุฌูฺฏู.
        </p>
      </a>
      {% endif %}

    </div>
  </section>

  <!-- ูฺฺฏโูุง ุณุณุชู -->
  {% if user.is_authenticated %}
  <section class="bg-gradient-to-r from-blue-50 to-emerald-50 dark:from-slate-800 dark:to-slate-900 rounded-2xl p-6 border border-blue-200 dark:border-slate-700">
    <h2 class="text-lg font-bold mb-4 text-slate-900 dark:text-slate-100">
      โจ ูฺฺฏโูุง ุฏุฌโุญุณุงุจโุงุฑ
    </h2>
    <div class="grid gap-3 md:grid-cols-2 lg:grid-cols-3">
      <div class="bg-white dark:bg-slate-800 rounded-lg p-3 shadow-sm">
        <h4 class="text-sm font-semibold mb-1 text-slate-900 dark:text-slate-100">๐ ูพุฑุฏุงุฒุด ุฎูุฏฺฉุงุฑ</h4>
        <p class="text-xs text-gray-600 dark:text-gray-300">
          ุขูพููุฏ ูุงู ุงฺฉุณู ู ูพุฑุฏุงุฒุด ุฎูุฏฺฉุงุฑ ุตูุฑุชุญุณุงุจโูุง ุฏุฌโฺฉุงูุง
        </p>
      </div>
      <div class="bg-white dark:bg-slate-800 rounded-lg p-3 shadow-sm">
        <h4 class="text-sm font-semibold mb-1 text-slate-900 dark:text-slate-100">๐ฐ ูุญุงุณุจู ุณูุฏ/ุฒุงู</h4>
        <p class="text-xs text-gray-600 dark:text-gray-300">
          ูุญุงุณุจู ุฏูู ุณูุฏ ู ุฒุงู ุจุง ุฏุฑ ูุธุฑ ฺฏุฑ ุชูุงู ูุฒููโูุง
        </p>
      </div>
      <div class="bg-white dark:bg-slate-800 rounded-lg p-3 shadow-sm">
        <h4 class="text-sm font-semibold mb-1 text-slate-900 dark:text-slate-100">๐ณ ฺฉู ูพูู</h4>
        <p class="text-xs text-gray-600 dark:text-gray-300">
          ุณุณุชู ฺฉู ูพูู ุจุฑุง ูพุฑุฏุงุฎุช ูุฒูู ูพุฑุฏุงุฒุด ุตูุฑุชุญุณุงุจโูุง
        </p>
      </div>
      <div class="bg-white dark:bg-slate-800 rounded-lg p-3 shadow-sm">
        <h4 class="text-sm font-semibold mb-1 text-slate-900 dark:text-slate-100">๐ซ ฺฉููพู ุชุฎูู</h4>
        <p class="text-xs text-gray-600 dark:text-gray-300">
          ุงุณุชูุงุฏู ุงุฒ ฺฉููพูโูุง ุชุฎูู ุจุฑุง ฺฉุงูุด ูุฒููโูุง
        </p>
      </div>
      <div class="bg-white dark:bg-slate-800 rounded-lg p-3 shadow-sm">
        <h4 class="text-sm font-semibold mb-1 text-slate-900 dark:text-slate-100">๐ ฺฏุฒุงุฑุดโูุง</h4>
        <p class="text-xs text-gray-600 dark:text-gray-300">
          ุฎุฑูุฌ ุงฺฉุณู ุจุง ุฌุฒุฆุงุช ฺฉุงูู ุณูุฏ ู ุฒุงู
        </p>
      </div>
      <div class="bg-white dark:bg-slate-800 rounded-lg p-3 shadow-sm">
        <h4 class="text-sm font-semibold mb-1 text-slate-900 dark:text-slate-100">๐ข ูุงุดูโุญุณุงุจ</h4>
        <p class="text-xs text-gray-600 dark:text-gray-300">
          ูุญุงุณุจู ุณุฑุน ุณูุฏ ู ุฒุงู ุจุฏูู ุขูพููุฏ ูุงู
        </p>
      </div>
    </div>
  </section>
  {% endif %}

</div>
{% endblock %}
